{
  "resolution": {
    "nx": "40",
    "ny": "20",
    "bc": "1"
  },
  "model": {
    "tstep": "PT1H",
    "top_layer_depth": "5500.0",
    "bottom_layer_depth": "4500.0"
  },
  "cost_function": {
    "cost_type": "4D-Var",
    "window_begin": "2010-01-01T00:00:00Z",
    "window_length": "P1D",
    "variables": ["x"],
    "Jb": {
      "Background": {
        "state": [{
          "filename": "Data/example.fc.2009-12-31T00:00:00Z.P1D",
          "date": "2010-01-01T00:00:00Z"
        }]
      },
      "Covariance": {
        "covariance": "BUMP",
        "date": "2010-01-01T00:00:00Z",
        "prefix" : "bump",
        "default_seed" : 1,
        "method" : "cor",
        "strategy" : "common",
        "new_hdiag" : 0,
        "new_param" : 1,
        "check_adjoints" : 0,
        "check_pos_def" : 0,
        "check_sqrt" : 0,
        "check_dirac" : 0,
        "check_randomization" : 0,
        "check_consistency" : 0,
        "check_optimality" : 0,
        "new_lct" : 0,
        "new_obsop" : 0,
        "sam_write" : 0,
        "sam_read" : 0,
        "mask_type" : "none",
        "mask_th" : 0,
        "mask_check" : 0,
        "draw_type" : "random_uniform",
        "nc1" : 400,
        "ntry" : 3,
        "nrep" : 2,
        "nc3" : 10,
        "dc" : 1000.0e3,
        "nl0r" : 1,
        "ne" : 5,
        "gau_approx" : 0,
        "full_var" : 0,
        "local_diag" : 0,
        "displ_diag" : 0,
        "minim_algo" : "hooke",
        "lhomh" : 0,
        "lhomv" : 0,
        "rvflt" : 0.0,
        "lsqrt" : 1,
        "resol" : 10.0,
        "nicas_interp" : "bilin",
        "network" : 0,
        "mpicom" : 2,
        "advmode" : 0,
        "forced_radii" : 1,
        "rh" : 3600.0e3,
        "rv" : 0.72,
        "ndir" : 0,
        "nldwh" : 0,
        "nldwv" : 0,
        "diag_rhflt" : 0.0,
        "diag_interp" : "bilin",
        "field_io" : 1,
        "split_io" : 1,
        "grid_output" : 0,
        "variable_changes": [ 
           {
             "varchange": "ErrStdDevQG",
             "inputVariables": {
                "variables": ["x"]
              },
             "outputVariables": {
                "variables": ["x"]
             },
             "standard_deviation": "0.8"
           }
        ]
      }
    },
    "Jo": {
      "ObsTypes": [
        {
          "ObsType": "Stream",
          "ObsData": {
            "ObsDataIn": {
              "obsfile": "Data/qg.truth4d.obt"
            },
            "ObsDataOut": {
              "obsfile": "Data/qg.4dvar.drplanczos.obt"
            },
            "obsvalue": "ObsVal"
          },
          "Covariance": {
            "covariance": "diagonal",
            "obserror": "ObsErr"
          }
        },
        {
          "ObsType": "Wind",
          "ObsData": {
            "ObsDataIn": {
              "obsfile": "Data/qg.truth4d.obt"
            },
            "ObsDataOut": {
              "obsfile": "Data/qg.4dvar.drplanczos.obt"
            },
            "obsvalue": "ObsVal"
          },
          "Covariance": {
            "covariance": "diagonal",
            "obserror": "ObsErr"
          }
        },
        {
          "ObsType": "WSpeed",
          "ObsData": {
            "ObsDataIn": {
              "obsfile": "Data/qg.truth4d.obt"
            },
            "ObsDataOut": {
              "obsfile": "Data/qg.4dvar.drplanczos.obt"
            },
            "obsvalue": "ObsVal"
          },
          "Covariance": {
            "covariance": "diagonal",
            "obserror": "ObsErr"
          }
        }
      ]
    },
    "Jc": [{
      "jcdfi": {
        "type": "DolphChebyshev",
        "variables": ["x"],
        "cutoff": "PT3H",
        "alpha": "10.0"
      }
    }]
  },
  "minimizer": {
    "algorithm": "DRPLanczos",
    "preconditioner": {
      "maxpairs": "3"
    }
  },
  "output": {
    "first": "PT0S",
    "frequency": "PT06H",
    "datadir": "Data",
    "exp": "example",
    "type": "an"
  },
  "variational": {
    "iteration": [
      {
        "resolution": {
          "nx": "40",
          "ny": "20",
          "bc": "1"
        },
        "linearmodel": {
          "version": "QgTLM",
          "tstep": "PT1H",
          "top_layer_depth": "5500.0",
          "bottom_layer_depth": "4500.0",
          "trajectory": {
            "tstep": "PT1H",
            "top_layer_depth": "5500.0",
            "bottom_layer_depth": "4500.0"
          }
        },
        "ninner": "10",
        "gradient_norm_reduction": "1e-10",
        "test": "on",
        "diagnostics": {
          "departures": "ombg"
        }
      },
      {
        "resolution": {
          "nx": "40",
          "ny": "20",
          "bc": "1"
        },
        "linearmodel": {
          "version": "QgTLM",
          "tstep": "PT1H",
          "top_layer_depth": "5500.0",
          "bottom_layer_depth": "4500.0",
          "trajectory": {
            "tstep": "PT1H",
            "top_layer_depth": "5500.0",
            "bottom_layer_depth": "4500.0"
          }
        },
        "ninner": "10",
        "gradient_norm_reduction": "1e-10",
        "test": "on"
      }
    ]
  },
  "final": {
    "prints": {
      "frequency": "PT1H"
    },
    "diagnostics": {
      "departures": "oman"
    }
  }
}
