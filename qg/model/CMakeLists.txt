list( APPEND oops_qg_src_files
ErrorCovarianceQG.cc
ErrorCovarianceQG.h
FieldsQG.cc
FieldsQG.h
GeometryQG.cc
GeometryQG.h
GomQG.cc
GomQG.h
IncrementQG.cc
IncrementQG.h
LocationsQG.cc
LocationsQG.h
LocalizationMatrixQG.cc
LocalizationMatrixQG.h
ModelBias.h
ModelBiasCovariance.h
ModelBiasIncrement.h
ModelQG.cc
ModelQG.h
Nothing.h
ObsBias.cc
ObsBias.h
ObsBiasCovariance.cc
ObsBiasCovariance.h
ObsBiasIncrement.cc
ObsBiasIncrement.h
ObsHelpQG.cc
ObsHelpQG.h
ObsOpBaseQG.cc
ObsOpBaseQG.h
ObsOpBaseTLAD.cc
ObsOpBaseTLAD.h
ObsOperatorQG.cc
ObsOperatorQG.h
ObsOperatorTLAD.cc
ObsOperatorTLAD.h
ObsSpaceQG.cc
ObsSpaceQG.h
ObsStreamQG.cc
ObsStreamQG.h
ObsStreamTLAD.cc
ObsStreamTLAD.h
ObsVecQG.cc
ObsVecQG.h
ObsWSpeedQG.cc
ObsWSpeedQG.h
ObsWSpeedTLAD.cc
ObsWSpeedTLAD.h
ObsWindQG.cc
ObsWindQG.h
ObsWindTLAD.cc
ObsWindTLAD.h
QgFortran.h
QgTraits.h
StateQG.cc
StateQG.h
TlmIdQG.cc
TlmIdQG.h
TlmQG.cc
TlmQG.h
VariablesQG.cc
VariablesQG.h
advect_pv.f90
advect_pv_ad.f90
advect_pv_tl.f90
c_qg_bmatrix.f90
c_qg_model.F90
c_qg_obs_data.F90
calc_pv.f90
calc_pv_ad.f90
calc_pv_tl.f90
fft_f.cc
fft_f.h
fft_mod.F90
generate_locations.f90
instantiateQgLocalizationFactory.h
invent_state.f90
invert_pv.f90
invert_pv_ad.f90
invert_pv_tl.f90
laplacian_2d.f90
meridional_wind.f90
meridional_wind_ad.f90
meridional_wind_tl.f90
propagate.f90
pv_operator.f90
pv_operator_ad.f90
qg_configs.F90
qg_constants.f90
qg_covariance_mod.F90
qg_fields.F90
qg_fields_interface.F90
qg_geom_mod.F90
qg_goms_mod.F90
qg_localization_matrix.f90
qg_locs_mod.F90
qg_obs_data.F90
qg_obs_vectors.F90
qg_obsoper_mod.F90
qg_stream_mod.F90
qg_trajectories.F90
qg_vars_mod.F90
qg_wind_mod.F90
qg_wspeed_mod.F90
random_f.cc
random_f.h
random_vectors_mod.F90
solve_elliptic_system.f90
solve_helmholz.f90
zonal_wind.f90
zonal_wind_ad.f90
zonal_wind_tl.f90
tools_nc.f90
)

ecbuild_add_library( TARGET   qg
                     SOURCES  ${oops_qg_src_files}
                     LIBS     oops ${LAPACK_LIBRARIES}
                     INSTALL_HEADERS LISTED
                     LINKER_LANGUAGE ${OOPS_LINKER_LANGUAGE}
                    )

